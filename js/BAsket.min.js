BAsketVer="2.01.0328.88";
(function(g,f,c){f.framework.html.SlideOutController=f.framework.html.DefaultLayoutController.inherit({_getLayoutTemplateName:function(){return"slideout"},_createNavigation:function(a){this.callBase(a);this.$slideOut=g("<div/>").appendTo(this._$hiddenBag).dxSlideOut({menuItemTemplate:g("#slideOutMenuItemTemplate")}).dxCommandContainer({id:"global-navigation"});this.slideOut=this.$slideOut.dxSlideOut("instance");var e=this.$slideOut.dxCommandContainer("instance");this._commandManager._arrangeCommandsToContainers(a,[e]);
this.$slideOut.find(".dx-slideout-item-container").append(this._$mainLayout)},_getRootElement:function(){return this.$slideOut},init:function(a){this.callBase(a);this._navigationManager=a.navigationManager;this._navigatingHandler=g.proxy(this._onNavigating,this)},activate:function(){this.callBase.apply(this,arguments);this._navigationManager.navigating.add(this._navigatingHandler)},deactivate:function(){this.callBase.apply(this,arguments);this._navigationManager.navigating.remove(this._navigatingHandler)},
_onNavigating:function(a){var e=this;this.slideOut.option("menuVisible")&&a.navigateWhen.push(this._toggleNavigation().done(function(){e._disableTransitions=!0}))},_onViewShown:function(a){this._disableTransitions=!1},_isPlaceholderEmpty:function(a){a=a.renderResult.$markup.find(".layout-toolbar").data("dxToolbar").option("items");return!g.grep(a,function(a){return("back"===a.behavior||"back"===a.id)&&!0===a.visible}).length},_onRenderComplete:function(a){var e=this;e._initNavigation(a.renderResult.$markup);
e._isPlaceholderEmpty(a)&&e._initNavigationButton(a.renderResult.$markup);var d=a.renderResult.$markup.find(".layout-content"),b=a.renderResult.$markup.find(".layout-toolbar-bottom").data("dxToolbar");b&&(e._refreshAppbarVisibility(b,d),b.optionChanged.add(function(a,t){"items"===a&&e._refreshAppbarVisibility(b,d)}))},_refreshAppbarVisibility:function(a,e){var d=!1;g.each(a.option("items"),function(a,h){if(h.visible)return d=!0,!1});e.toggleClass("has-toolbar-bottom",d);a.option("visible",d)},_initNavigationButton:function(a){var e=
this,d=a.find(".layout-toolbar"),b=d.data("dxToolbar"),h=function(a,b){b=b||d.find(".nav-button-item");b.show();b.find(".nav-button").data("dxButton").option("clickAction",g.proxy(e._toggleNavigation,e,a))};h(a);b.option("itemRenderedAction",function(d){"nav-button"===d.itemData.template&&g.proxy(h,e,a)()});b.repaint()},_initNavigation:function(a){this._isNavigationVisible=!1},_toggleNavigation:function(a){return this.slideOut.toggleMenuVisibility()}});f.framework.html.layoutControllers.push({navigationType:"slideout",
platform:"ios",controller:new f.framework.html.SlideOutController});f.framework.html.layoutControllers.push({navigationType:"slideout",platform:"android",controller:new f.framework.html.SlideOutController});f.framework.html.layoutControllers.push({navigationType:"slideout",platform:"tizen",controller:new f.framework.html.SlideOutController});f.framework.html.layoutControllers.push({navigationType:"slideout",platform:"win8",phone:!0,controller:new f.framework.html.SlideOutController});f.framework.html.layoutControllers.push({navigationType:"slideout",
platform:"generic",controller:new f.framework.html.SlideOutController})})(jQuery,DevExpress);
(function(g,f,c){f.framework.html.NavBarController=f.framework.html.DefaultLayoutController.inherit({_getLayoutTemplateName:function(){return"navbar"},_createNavigation:function(a){this.callBase(a);var e=this._$mainLayout.find(".navbar-container");e.length&&a&&(e=e.dxCommandContainer("instance"),this._commandManager._arrangeCommandsToContainers(a,[e]),this._$mainLayout.addClass("has-navbar"))},_showViewImpl:function(a){var e=this;return e.callBase.apply(e,arguments).done(function(){var a=e._$mainLayout.find(".layout-footer").find(".dx-active-view .dx-toolbar"),
a=!a.length||!a.dxToolbar("instance").option("visible");e._$mainLayout.toggleClass("has-toolbar",!a)})}});f.framework.html.layoutControllers.push({navigationType:"navbar",platform:"ios",controller:new f.framework.html.NavBarController});f.framework.html.layoutControllers.push({navigationType:"navbar",platform:"android",controller:new f.framework.html.NavBarController});f.framework.html.layoutControllers.push({navigationType:"navbar",platform:"tizen",controller:new f.framework.html.NavBarController});
f.framework.html.layoutControllers.push({navigationType:"navbar",platform:"generic",controller:new f.framework.html.NavBarController});f.framework.html.layoutControllers.push({navigationType:"split",platform:"win8",phone:!1,root:!0,controller:new f.framework.html.NavBarController})})(jQuery,DevExpress);
(function(g,f,c){f.framework.html.EmptyLayoutController=f.framework.html.DefaultLayoutController.inherit({ctor:function(a){a=a||{};a.layoutTemplateName="empty";this.callBase(a)}});f.framework.html.layoutControllers.push({navigationType:"empty",controller:new f.framework.html.EmptyLayoutController})})(jQuery,DevExpress);
var U=function(g,f){var c={},a=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,d=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,b=/[^-+\dA-Z]/g,h=function(a,d){a=String(a);for(d=d||2;a.length<d;)a="0"+a;return a};return function(c,f,g){var l=a;1!=arguments.length||"[object String]"!=Object.prototype.toString.call(c)||/\d/.test(c)||(f=c,c=void 0);c=c?new Date(c):new Date;if(isNaN(c))throw SyntaxError("invalid date");
f=String(l.masks[f]||f||l.masks["default"]);"UTC:"==f.slice(0,4)&&(f=f.slice(4),g=!0);var k=g?"getUTC":"get",r=c[k+"Date"](),p=c[k+"Day"](),s=c[k+"Month"](),v=c[k+"FullYear"](),q=c[k+"Hours"](),w=c[k+"Minutes"](),x=c[k+"Seconds"](),k=c[k+"Milliseconds"](),n=g?0:c.getTimezoneOffset(),y={d:r,dd:h(r),ddd:l.i18n.dayNames[p],dddd:l.i18n.dayNames[p+7],m:s+1,mm:h(s+1),mmm:l.i18n.monthNames[s],mmmm:l.i18n.monthNames[s+12],yy:String(v).slice(2),yyyy:v,h:q%12||12,hh:h(q%12||12),H:q,HH:h(q),M:w,MM:h(w),s:x,
ss:h(x),l:h(k,3),L:h(99<k?Math.round(k/10):k),t:12>q?"a":"p",tt:12>q?"am":"pm",T:12>q?"A":"P",TT:12>q?"AM":"PM",Z:g?"UTC":(String(c).match(d)||[""]).pop().replace(b,""),o:(0<n?"-":"+")+h(100*Math.floor(Math.abs(n)/60)+Math.abs(n)%60,4),S:["th","st","nd","rd"][3<r%10?0:(10!=r%100-r%10)*r%10]};return f.replace(e,function(a){return a in y?y[a]:a.slice(1,a.length-1)})}}();a.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",
shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};a.i18n={dayNames:"Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),monthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December".split(" ")};c.DateFormat=function(c,d){d||(d="dd-mm-yyyy");
return a(c,d)};return c}(jQuery,window),_=function(g){return{Common:{},Navigation:{},ReadNews:{},Preferences:{},Order:{},Products:{},Clients:{},RoadMap:{},Info:{},getText:function(f){return Globalize.localize(f)}}}(window),P=function(g,f){function c(a,b){var h=f.localStorage.getItem(a);!h&&b&&(h=b,f.localStorage.setItem(a,h));return h}var a={navigation:[{id:"Home",action:"#home",heightRatio:4,widthRatio:4,icon:"home",title:"BAsket",backcolor:"black"},{id:"Order",action:"#Order",heightRatio:4,widthRatio:8,
icon:"cart",title:"NewOrder",backcolor:"#FF981D"},{id:"OrderList",action:"#OrderList",heightRatio:4,widthRatio:4,icon:"favorites",title:"Order List",backcolor:"#15992A"},{id:"RoadMapList",action:"#RoadMapList",heightRatio:4,widthRatio:8,icon:"map",title:"RoadMap",backcolor:"#006AC1"},{id:"Clients",action:"#Clients",heightRatio:4,widthRatio:8,icon:"globe",title:"Clients",backcolor:"#7200AC"},{id:"ReadNews",action:"#ReadNews",heightRatio:4,widthRatio:4,icon:"download",title:"ReadNews",backcolor:"red"},
{id:"Preferences",action:"#Preferences",heightRatio:4,widthRatio:4,icon:"preferences",title:"Preferences",backcolor:"red"},{id:"Info",action:"#Info",heightRatio:4,widthRatio:2,icon:"info",title:"Info",backcolor:"#7200AC"}]};a.loadPanelVisible=ko.observable(!1);a.getLocalStor=function(a,b){var h=c(a,b);return"true"==h?!0:"false"==h?!1:h};a.ChangeLookup=function(a,b){var h=g(a).data("dxLookup").option("value");f.localStorage.setItem(b,h);return h};a.ChangeValue=function(a,b){f.localStorage.setItem(a,
b);return b};var e={English:"en","Русский":"ru"};a.ChangeLanguageUI=function(){a.Culture="ru"==e[a.languageUI]?"ru":"default";Globalize.culture(a.Culture);var d=Globalize.cultures[a.Culture].messages;_.Common=d.Common;_.Navigation=d.Navigation;_.ReadNews=d.ReadNews;_.Preferences=d.Preferences;_.Order=d.Order;_.Products=d.Products;_.Clients=d.Clients;_.RoadMap=d.RoadMap;_.Info=d.Info;a.navigation.forEach(function(a){var d=eval("_.Navigation."+a.id);d&&(a.title=d)})};
a.getInfo=function(){g.get("localization/Info_"+a.Culture+".html").then(function(a,b,h){a=a.split("##");for(var c in a)b=a[c].split("|"),1<b.length&&((h=b[0])&&(_.Info[h]=b[1]),"Contacts"==h?_.Info[h]=_.Info[h].replace(/#EMail#/g,P.EMail):"SysInfo"==h&&(_.Info[h]=_.Info[h].replace("#device#",(DevExpress.devices.current().generic?" =generic= ":"")+(DevExpress.devices.current().phone?" =phone= ":"")+(DevExpress.devices.current().tablet?" =tablet= ":"")+(DevExpress.devices.current().android?" =android= ":
"")+(DevExpress.devices.current().ios?" =ios= ":"")+(DevExpress.devices.current().tizen?" =tizen= ":"")+(DevExpress.devices.current().win8?" =win8= ":"")).replace("#deviceType#",DevExpress.devices.current().deviceType).replace("#platform#",DevExpress.devices.current().platform).replace("#screen_height#",screen.height).replace("#screen_width#",screen.width).replace("#userAgent#",navigator.userAgent).replace("#language#",navigator.language).replace("#copyright#",P.copyright).replace("#cookieEnabled#",
navigator.cookieEnabled?"Enabled":"Disabled")))})};a.LoadFile=function(a,b){if("js"==b){var h=document.createElement("script");h.setAttribute("type","text/javascript");h.setAttribute("src",a)}else"css"==b&&(h=document.createElement("link"),h.setAttribute("rel","stylesheet"),h.setAttribute("type","text/css"),h.setAttribute("href",a));"undefined"!=typeof h&&document.getElementsByTagName("head")[0].appendChild(h)};a.geoCurrent=ko.observable("");a.getGeo=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(d){a.geoCurrent(d.coords.latitude.toFixed(6)+
","+d.coords.longitude.toFixed(6))},function(d){a.geoCurrent("string"==typeof d?d:"failed")})};a.getDistance=function(a,b){var h=(b[0]-a[0])*Math.PI/180,c=(b[1]-a[1])*Math.PI/180,e=a[0]*Math.PI/180,f=b[0]*Math.PI/180,h=Math.sin(h/2)*Math.sin(h/2)+Math.sin(c/2)*Math.sin(c/2)*Math.cos(e)*Math.cos(f);return 12742*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))};a.geoBearing=function(a,b){var h=(b[1]-a[1])*Math.PI/180,c=Math.sin(h)*Math.cos(b[0]),h=Math.cos(a[0])*Math.sin(b[0])-Math.sin(a[0])*Math.cos(b[0])*
Math.cos(h);return 180*Math.atan2(c,h)/Math.PI};a.geoCoder=function(a){var b=new google.maps.Geocoder,h=new g.Deferred;b.geocode({address:a},function(a,d){var b=[];d==google.maps.GeocoderStatus.OK&&(b=[a[0].geometry.location.lat().toFixed(6),a[0].geometry.location.lng().toFixed(6)]);h.resolve(b)});return h};a.itemClick=function(a){BAsket.app.navigate(a.itemData.action.substring(1),{direction:"none",root:!0})};a.itemIcon=function(a){return"tileicon dx-icon-"+a.toLowerCase()};a.itemCount={OrderList:c("OrderList",
"0"),RoadMapList:c("RoadMapList",""),Clients:c("Clients",""),ReadNews:c("ReadNews","")};a.trace=function(a){if(P.debugMode){var b=document.getElementById("consoleOut");b&&(b.innerHTML+=a+"<br />")}console&&console.log(a)};a.setQuantToWar=function(a){for(var b in P.arrayBAsket)if(P.arrayBAsket[b].Id==a.Id){a.Quant=P.arrayBAsket[b].Quant;break}return a};a.validateEmail=function(a){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)};
a.getDeviceId=function(){var d="";f.device&&(d=f.device.uuid,a.bPhoneGap=!0);d||(d=c("userPassword","-"));return d};a.deviceInfo=DevExpress.devices.current();a.curCategoryId=0;a.curCategoryName="";a.curModeChoice=!0;a.modeProdView=!0;a.fromProducts=!1;a.arrayBAsket=[];a.arrayBAsketL=[];a.copyright="";a.debugMode=!1;a.useWebDb=!0;a.bPhoneGap=!1;a.maxSizeLocalDb=5E6;a.arrCategory=[];a.arrNMS=[];a.dataSouceUrl="";a.pageSize=30;a.EMail="BAndySoft@gmail.com";a.Init=function(){a.useWebDb="true"==c("useWebDb",
"true");"undefined"===typeof f.openDatabase&&(a.useWebDb=!1);a.layout=c("Layout","slideout");a.platformDevice="android";a.platformDevice=c("Platform","android");"-"==a.platformDevice&&(a.platformDevice=a.deviceInfo.platform);a.deviceClass={};a.deviceClass.platform=a.platformDevice;var d=a.platformDevice.split(" ");"generic"==d[0]&&a.LoadFile("css/dx.generic.light.css","css");1<d.length?(a.deviceClass.platform=d[0],"ios"==d[0]&&"v6"==d[1]?a.deviceClass.version="6":"black"==d[1]&&("android"==d[0]&&
a.LoadFile("css/dx.android.holo-dark.css","css"),"tizen"==d[0]&&a.LoadFile("css/dx.tizen.black.css","css"))):"tizen"==d[0]&&a.LoadFile("css/dx.tizen.white.css","css");a.dataSouceUrl=c("dataSouceUrl","");a.adminPassword=c("adminPassword","admin");a.modeProdView="true"==c("modeProdView","true");a.debugMode="true"==c("debugMode","true");a.mapProvider=c("MapProvider","google");a.languageUI=c("LanguageUI","-");"-"==a.languageUI&&(a.languageUI="ru"==navigator.language?"Русский":
"English");a.ChangeLanguageUI();BAsket.navigation=P.navigation.slice(0);BAsket.navigation=BAsket.navigation.splice(1);a.UserName=c("userName","-");"-"==a.UserName&&(a.UserName="BAsket User");a.UserPassword=c("userPassword","-");"-"==a.UserPassword&&(a.UserPassword=a.getDeviceId());a.UserEMail=c("userEMail","-");d="Basic "+[a.UserName,a.UserPassword].join(":");d=DevExpress.data.base64_encode(d);document.cookie=".BAsketAUTH="+d;sessionStorage[".BAsketAUTH"]=d;a.ajaxHeaders=a.bPhoneGap||!location.port?
{Authorization:d}:{};a.copyright="BAsket © 2014 BAndySoft. All rights reserved ("+a.deviceClass.platform+"; ver. "+BAsketVer+")";a.arrCategory=JSON.parse(c("categories","{}"));if(a.arrCategory.length){a.arrNMS[0]=JSON.parse(c("NMS0","{}"));for(d=0;d<a.arrNMS[0].length;d++){var b=c("NMS"+a.arrNMS[0][d].Id,"");b&&(a.arrNMS[a.arrNMS[0][d].Id]=JSON.parse(b))}0<a.arrCategory.length&&(a.curCategoryId=a.arrCategory[0].Id,a.curCategoryName=a.arrCategory[0].N);a.getInfo();DAL.TableCount();(d=g("#idMainTileView").data("dxTileView"))&&
d.repaint()}else DAL.ReadNews(!0,!0)};return a}(jQuery,window);window.onerror=function(g,f,c,a,e){var d="Error: ";g.target?d+=g.target.src:(f||(f="-"),d+=g+"\nurl: "+f+"\nline #: "+c+"/"+a+"",alert(d));if(!console)return!0;console.log(d);e&&console.log(e.stack);return!0};eval('"use strict";');window.BAsket={};
$(function(){window.isphone=-1===document.URL.indexOf("http://")&&-1===document.URL.indexOf("https://");window.isphone?(P.trace("! window.isphone !"),P.LoadFile("cordova.js","js"),document.addEventListener("deviceready",onDeviceReady,!1)):onDeviceReady()});
function onDeviceReady(){P.Init();DevExpress.devices.current(P.deviceClass);BAsket.app=new DevExpress.framework.html.HtmlApplication({namespace:BAsket,navigationType:P.layout,navigation:P.navigation,navigateToRootViewMode:!0,commandMapping:{"android-header-toolbar":{commands:[{id:"cmdInfo",align:"right"}]},"ios-header-toolbar":{commands:[{id:"cmdInfo",align:"right"}]},"tizen-header-toolbar":{commands:[{id:"cmdInfo",align:"right"}]},"generic-header-toolbar":{commands:[{id:"cmdInfo",align:"right"}]}}});
BAsket.app.router.register(":view/:Id",{view:"home",Id:void 0});BAsket.app.navigate()}BAsket.notify=function(g,f,c){f||(f="success");c||(c=1E3);DevExpress.ui.notify(g,f,c)};BAsket.error=function(g){BAsket.notify(g,"error",5E3)};
var DAL_tst=function(g,f){var c={};c.NMS_Data=new DevExpress.data.DataSource(new DevExpress.data.ArrayStore([{IdP:0,Id:1,N:"Factory"},{IdP:0,Id:2,N:"TypeOfPayment"},{IdP:0,Id:10,N:"Product Properties"},{IdP:0,Id:20,N:"Client Properties"},{IdP:0,Id:101,N:"Reports"},{IdP:1,Id:16,N:"BAsket Ltd"},{IdP:2,Id:1,N:"cash"},{IdP:2,Id:2,N:"bank"},{IdP:10,Id:1,N:"Pack"},{IdP:10,Id:2,N:"Manufacturer"},{IdP:101,Id:1,N:"Report 1"}]));c.Categories_Data=new DevExpress.data.DataSource({pageSize:P.maxSizeLocalDb,store:new DevExpress.data.ArrayStore([{Id:"-1",
N:"Beverages"},{Id:"-2",N:"Condiments"},{Id:"-3",N:"Confections"},{Id:"-4",N:"Dairy Products"},{Id:"-5",N:"Grains/Cereals"},{Id:"-6",N:"Meat/Poultry"},{Id:"-7",N:"Produce"},{Id:"-8",N:"Seafood"}])});c.Products_Data=new DevExpress.data.DataSource({pageSize:P.maxSizeLocalDb,store:new DevExpress.data.ArrayStore([{Id:"3",IdP:"-2",N:"Aniseed Syrup",N1:"12 - 550 ml bottles",N2:"Exotic Liquids",N3:"",N4:"",O:"13",P:10},{Id:"40",IdP:"-8",N:"Boston Crab Meat",N1:"24 - 4 oz tins",N2:"New England Seafood Cannery",
N3:"",N4:"",O:"123",P:18.4},{Id:"60",IdP:"-4",N:"Camembert Pierrot",N1:"15 - 300 g rounds",N2:"Gai pâturage",N3:"",N4:"",O:"19",P:34},{Id:"18",IdP:"-8",N:"Carnarvon Tigers",N1:"16 kg pkg.",N2:"Pavlova, Ltd.",N3:"",N4:"",O:"42",P:62.5},{Id:"1",IdP:"-1",N:"Chai",N1:"10 boxes x 20 bags",N2:"Exotic Liquids",N3:"",N4:"",O:"39",P:18},{Id:"2",IdP:"-1",N:"Chang",N1:"24 - 12 oz bottles",N2:"Exotic Liquids",N3:"",N4:"",O:"17",P:19},{Id:"39",IdP:"-1",N:"Chartreuse verte",N1:"750 cc per bottle",N2:"Aux joyeux ecclésiastiques",
N3:"",N4:"",O:"69",P:18},{Id:"4",IdP:"-2",N:"Chef Anton's Cajun Seasoning",N1:"48 - 6 oz jars",N2:"New Orleans Cajun Delights",N3:"",N4:"",O:"53",P:22},{Id:"48",IdP:"-3",N:"Chocolade",N1:"10 pkgs.",N2:"Zaanse Snoepfabriek",N3:"",N4:"",O:"15",P:12.75},{Id:"38",IdP:"-1",N:"Côte de Blaye",N1:"12 - 75 cl bottles",N2:"Aux joyeux ecclésiastiques",N3:"",N4:"",O:"17",P:263.5},{Id:"58",IdP:"-8",N:"Escargots de Bourgogne",N1:"24 pieces",N2:"Escargots Nouveaux",N3:"",N4:"",O:"62",P:13.25},{Id:"52",
IdP:"-5",N:"Filo Mix",N1:"16 - 2 kg boxes",N2:"G'day, Mate",N3:"",N4:"",O:"38",P:7},{Id:"71",IdP:"-4",N:"Flotemysost",N1:"10 - 500 g pkgs.",N2:"Norske Meierier",N3:"",N4:"",O:"26",P:21.5},{Id:"33",IdP:"-4",N:"Geitost",N1:"500 g",N2:"Norske Meierier",N3:"",N4:"",O:"112",P:2.5},{Id:"15",IdP:"-2",N:"Genen Shouyu",N1:"24 - 250 ml bottles",N2:"Mayumi's",N3:"",N4:"",O:"39",P:15.5},{Id:"56",IdP:"-5",N:"Gnocchi di nonna Alice",N1:"24 - 250 g pkgs.",N2:"Pasta Buttini s.r.l.",N3:"",N4:"",O:"21",P:38},{Id:"6",
IdP:"-2",N:"Grandma's Boysenberry Spread",N1:"12 - 8 oz jars",N2:"Grandma Kelly's Homestead",N3:"",N4:"",O:"120",P:25},{Id:"37",IdP:"-8",N:"Gravad lax",N1:"12 - 500 g pkgs.",N2:"Svensk Sjöföda AB",N3:"",N4:"",O:"11",P:26},{Id:"24",IdP:"-1",N:"Guaraná Fantástica",N1:"12 - 355 ml cans",N2:"Refrescos Americanas LTDA",N3:"",N4:"",O:"20",P:4.5},{Id:"69",IdP:"-4",N:"Gudbrandsdalsost",N1:"10 kg pkg.",N2:"Norske Meierier",N3:"",N4:"",O:"26",P:36},{Id:"44",IdP:"-2",N:"Gula Malacca",N1:"20 - 2 kg bags",
N2:"Leka Trading",N3:"",N4:"",O:"27",P:19.45},{Id:"26",IdP:"-3",N:"Gumbär Gummibärchen",N1:"100 - 250 g bags",N2:"Heli Süßwaren GmbH & Co. KG",N3:"",N4:"",O:"15",P:31.23},{Id:"22",IdP:"-5",N:"Gustaf's Knäckebröd",N1:"24 - 500 g pkgs.",N2:"PB Knäckebröd AB",N3:"",N4:"",O:"104",P:21},{Id:"10",IdP:"-8",N:"Ikura",N1:"12 - 200 ml jars",N2:"Tokyo Traders",N3:"",N4:"",O:"31",P:31},{Id:"36",IdP:"-8",N:"Inlagd Sill",N1:"24 - 250 g  jars",N2:"Svensk Sjöföda AB",
N3:"",N4:"",O:"112",P:19},{Id:"43",IdP:"-1",N:"Ipoh Coffee",N1:"16 - 500 g tins",N2:"Leka Trading",N3:"",N4:"",O:"17",P:46},{Id:"41",IdP:"-8",N:"Jack's New England Clam Chowder",N1:"12 - 12 oz cans",N2:"New England Seafood Cannery",N3:"",N4:"",O:"85",P:9.65},{Id:"13",IdP:"-8",N:"Konbu",N1:"2 kg box",N2:"Mayumi's",N3:"",N4:"",O:"24",P:6},{Id:"76",IdP:"-1",N:"Lakkalikööri",N1:"500 ml",N2:"Karkki Oy",N3:"",N4:"",O:"57",P:18},{Id:"67",IdP:"-1",N:"Laughing Lumberjack Lager",N1:"24 - 12 oz bottles",
N2:"Bigfoot Breweries",N3:"",N4:"",O:"52",P:14},{Id:"74",IdP:"-7",N:"Longlife Tofu",N1:"5 kg pkg.",N2:"Tokyo Traders",N3:"",N4:"",O:"4",P:10},{Id:"65",IdP:"-2",N:"Louisiana Fiery Hot Pepper Sauce",N1:"32 - 8 oz bottles",N2:"New Orleans Cajun Delights",N3:"",N4:"",O:"76",P:21.05},{Id:"66",IdP:"-2",N:"Louisiana Hot Spiced Okra",N1:"24 - 8 oz jars",N2:"New Orleans Cajun Delights",N3:"",N4:"",O:"4",P:17},{Id:"51",IdP:"-7",N:"Manjimup Dried Apples",N1:"50 - 300 g pkgs.",N2:"G'day, Mate",N3:"",N4:"",O:"20",
P:53},{Id:"32",IdP:"-4",N:"Mascarpone Fabioli",N1:"24 - 200 g pkgs.",N2:"Formaggi Fortini s.r.l.",N3:"",N4:"",O:"9",P:32},{Id:"49",IdP:"-3",N:"Maxilaku",N1:"24 - 50 g pkgs.",N2:"Karkki Oy",N3:"",N4:"",O:"10",P:20},{Id:"9",IdP:"-6",N:"Mishi Kobe Niku",N1:"18 - 500 g pkgs.",N2:"Tokyo Traders",N3:"",N4:"",O:"29",P:97},{Id:"72",IdP:"-4",N:"Mozzarella di Giovanni",N1:"24 - 200 g pkgs.",N2:"Formaggi Fortini s.r.l.",N3:"",N4:"",O:"14",P:34.8},{Id:"30",IdP:"-8",N:"Nord-Ost Matjeshering",N1:"10 - 200 g glasses",
N2:"Nord-Ost-Fisch Handelsgesellschaft mbH",N3:"",N4:"",O:"10",P:25.89},{Id:"8",IdP:"-2",N:"Northwoods Cranberry Sauce",N1:"12 - 12 oz jars",N2:"Grandma Kelly's Homestead",N3:"",N4:"",O:"6",P:40},{Id:"25",IdP:"-3",N:"NuNuCa Nuß-Nougat-Creme",N1:"20 - 450 g glasses",N2:"Heli Süßwaren GmbH & Co. KG",N3:"",N4:"",O:"76",P:14},{Id:"77",IdP:"-2",N:"Original Frankfurter grüne Soße",N1:"12 boxes",N2:"Plutzer Lebensmittelgroßmärkte AG",N3:"",N4:"",O:"32",P:13},{Id:"70",IdP:"-1",
N:"Outback Lager",N1:"24 - 355 ml bottles",N2:"Pavlova, Ltd.",N3:"",N4:"",O:"15",P:15},{Id:"55",IdP:"-6",N:"Pâté chinois",N1:"24 boxes x 2 pies",N2:"Ma Maison",N3:"",N4:"",O:"115",P:24},{Id:"16",IdP:"-3",N:"Pavlova",N1:"32 - 500 g boxes",N2:"Pavlova, Ltd.",N3:"",N4:"",O:"29",P:17.45},{Id:"11",IdP:"-4",N:"Queso Cabrales",N1:"1 kg pkg.",N2:"Cooperativa de Quesos 'Las Cabras'",N3:"",N4:"",O:"22",P:21},{Id:"12",IdP:"-4",N:"Queso Manchego La Pastora",N1:"10 - 500 g pkgs.",N2:"Cooperativa de Quesos 'Las Cabras'",
N3:"",N4:"",O:"86",P:38},{Id:"59",IdP:"-4",N:"Raclette Courdavault",N1:"5 kg pkg.",N2:"Gai pâturage",N3:"",N4:"",O:"79",P:55},{Id:"57",IdP:"-5",N:"Ravioli Angelo",N1:"24 - 250 g pkgs.",N2:"Pasta Buttini s.r.l.",N3:"",N4:"",O:"36",P:19.5},{Id:"75",IdP:"-1",N:"Rhönbräu Klosterbier",N1:"24 - 0.5 l bottles",N2:"Plutzer Lebensmittelgroßmärkte AG",N3:"",N4:"",O:"125",P:7.75},{Id:"73",IdP:"-8",N:"Röd Kaviar",N1:"24 - 150 g jars",N2:"Svensk Sjöföda AB",N3:"",N4:"",
O:"101",P:15},{Id:"45",IdP:"-8",N:"Rogede sild",N1:"1k pkg.",N2:"Lyngbysild",N3:"",N4:"",O:"5",P:9.5},{Id:"28",IdP:"-7",N:"Rössle Sauerkraut",N1:"25 - 825 g cans",N2:"Plutzer Lebensmittelgroßmärkte AG",N3:"",N4:"",O:"26",P:45.6},{Id:"34",IdP:"-1",N:"Sasquatch Ale",N1:"24 - 12 oz bottles",N2:"Bigfoot Breweries",N3:"",N4:"",O:"111",P:14},{Id:"27",IdP:"-3",N:"Schoggi Schokolade",N1:"100 - 100 g pieces",N2:"Heli Süßwaren GmbH & Co. KG",N3:"",N4:"",O:"49",P:43.9},{Id:"68",IdP:"-3",
N:"Scottish Longbreads",N1:"10 boxes x 8 pieces",N2:"Specialty Biscuits, Ltd.",N3:"",N4:"",O:"6",P:12.5},{Id:"42",IdP:"-5",N:"Singaporean Hokkien Fried Mee",N1:"32 - 1 kg pkgs.",N2:"Leka Trading",N3:"",N4:"",O:"26",P:14},{Id:"20",IdP:"-3",N:"Sir Rodney's Marmalade",N1:"30 gift boxes",N2:"Specialty Biscuits, Ltd.",N3:"",N4:"",O:"40",P:81},{Id:"21",IdP:"-3",N:"Sir Rodney's Scones",N1:"24 pkgs. x 4 pieces",N2:"Specialty Biscuits, Ltd.",N3:"",N4:"",O:"3",P:10},{Id:"61",IdP:"-2",N:"Sirop d'érable",
N1:"24 - 500 ml bottles",N2:"Forêts d'érables",N3:"",N4:"",O:"113",P:28.5},{Id:"46",IdP:"-8",N:"Spegesild",N1:"4 - 450 g glasses",N2:"Lyngbysild",N3:"",N4:"",O:"95",P:12},{Id:"35",IdP:"-1",N:"Steeleye Stout",N1:"24 - 12 oz bottles",N2:"Bigfoot Breweries",N3:"",N4:"",O:"20",P:18},{Id:"62",IdP:"-3",N:"Tarte au sucre",N1:"48 pies",N2:"Forêts d'érables",N3:"",N4:"",O:"17",P:49.3},{Id:"19",IdP:"-3",N:"Teatime Chocolate Biscuits",N1:"10 boxes x 12 pieces",N2:"Specialty Biscuits, Ltd.",
N3:"",N4:"",O:"25",P:9.2},{Id:"14",IdP:"-7",N:"Tofu",N1:"40 - 100 g pkgs.",N2:"Mayumi's",N3:"",N4:"",O:"35",P:23.25},{Id:"54",IdP:"-6",N:"Tourtière",N1:"16 pies",N2:"Ma Maison",N3:"",N4:"",O:"21",P:7.45},{Id:"23",IdP:"-5",N:"Tunnbröd",N1:"12 - 250 g pkgs.",N2:"PB Knäckebröd AB",N3:"",N4:"",O:"61",P:9},{Id:"7",IdP:"-7",N:"Uncle Bob's Organic Dried Pears",N1:"12 - 1 lb pkgs.",N2:"Grandma Kelly's Homestead",N3:"",N4:"",O:"15",P:30},{Id:"50",IdP:"-3",N:"Valkoinen suklaa",N1:"12 - 100 g bars",
N2:"Karkki Oy",N3:"",N4:"",O:"65",P:16.25},{Id:"63",IdP:"-2",N:"Vegie-spread",N1:"15 - 625 g jars",N2:"Pavlova, Ltd.",N3:"",N4:"",O:"24",P:43.9},{Id:"64",IdP:"-5",N:"Wimmers gute Semmelknödel",N1:"20 bags x 4 pieces",N2:"Plutzer Lebensmittelgroßmärkte AG",N3:"",N4:"",O:"22",P:33.25},{Id:"47",IdP:"-3",N:"Zaanse koeken",N1:"10 - 4 oz boxes",N2:"Zaanse Snoepfabriek",N3:"",N4:"",O:"36",P:9.5}])});c.Clients_Data=new DevExpress.data.DataSource({pageSize:P.maxSizeLocalDb,store:new DevExpress.data.ArrayStore([{Id:"ALFKI",
IdP:"",N:"Alfreds Futterkiste",N1:"",N2:"",A:"Obere Str. 57, Berlin, 12209, Germany"},{Id:"ALFKI1",IdP:"ALFKI",N:"Alfreds Futterkiste 1",N1:"",N2:"",A:"Obere Str. 157, Berlin, 12209, Germany"},{Id:"ALFKI2",IdP:"ALFKI",N:"Alfreds Futterkiste 2",N1:"",N2:"",A:"Obere Str. 257, Berlin, 12209, Germany"},{Id:"ANATR",IdP:"",N:"Ana Trujillo Emparedados y helados",N1:"",N2:"",A:"Avda. de la Constitución 2222, México D.F., 05021, Mexico"},{Id:"ANTON",IdP:"",N:"Antonio Moreno Taquería",N1:"",
N2:"",A:"Mataderos  2312, México D.F., 05023, Mexico"},{Id:"AROUT",IdP:"",N:"Around the Horn",N1:"",N2:"",A:"120 Hanover Sq., London, WA1 1DP, UK"},{Id:"AROUT1",IdP:"AROUT",N:"Around the Horn 1",N1:"",N2:"",A:"121 Hanover Sq., London, WA1 1DP, UK"},{Id:"AROUT2",IdP:"AROUT",N:"Around the Horn 2",N1:"",N2:"",A:"122 Hanover Sq., London, WA1 1DP, UK"},{Id:"AROUT3",IdP:"AROUT",N:"Around the Horn 3",N1:"",N2:"",A:"123 Hanover Sq., London, WA1 1DP, UK"},{Id:"BERGS",IdP:"",N:"Berglunds snabbköp",
N1:"",N2:"",A:"Berguvsvägen  8, Luleå, S-958 22, Sweden"},{Id:"BLAUS",IdP:"",N:"Blauer See Delikatessen",N1:"",N2:"",A:"Forsterstr. 57, Mannheim, 68306, Germany"},{Id:"BLONP",IdP:"",N:"Blondesddsl père et fils",N1:"",N2:"",A:"24, place Kléber, Strasbourg, 67000, France"},{Id:"BOLID",IdP:"",N:"Bólido Comidas preparadas",N1:"",N2:"",A:"C/ Araquil, 67, Madrid, 28023, Spain"},{Id:"BONAP",IdP:"",N:"Bon app''",N1:"",N2:"",A:"12, rue des Bouchers, Marseille, 13008, France"},{Id:"BOTTM",
IdP:"",N:"Bottom-Dollar Markets",N1:"",N2:"",A:"23 Tsawassen Blvd., Tsawassen, T2F 8M4, Canada"},{Id:"BSBEV",IdP:"",N:"B''s Beverages",N1:"",N2:"",A:"Fauntleroy Circus, London, EC2 5NT, UK"},{Id:"CACTU",IdP:"",N:"Cactus Comidas para llevar",N1:"",N2:"",A:"Cerrito 333, Buenos Aires, 1010, Argentina"},{Id:"CENTC",IdP:"",N:"Centro comercial Moctezuma",N1:"",N2:"",A:"Sierras de Granada 9993, México D.F., 05022, Mexico"},{Id:"CHOPS",IdP:"",N:"Chop-suey Chinese",N1:"",N2:"",A:"Hauptstr. 29, Bern, 3012, Switzerland"},
{Id:"COMMI",IdP:"",N:"Comércio Mineiro",N1:"",N2:"",A:"Av. dos Lusíadas, 23, Sao Paulo, 05432-043, Brazil"},{Id:"CONSH",IdP:"",N:"Consolidated Holdings",N1:"",N2:"",A:"Berkeley Gardens 12  Brewery, London, WX1 6LT, UK"},{Id:"WANDK",IdP:"",N:"Die Wandernde Kuh",N1:"",N2:"",A:"Adenauerallee 900, Stuttgart, 70563, Germany"},{Id:"DRACD",IdP:"",N:"Drachenblut Delikatessen",N1:"",N2:"",A:"Walserweg 21, Aachen, 52066, Germany"},{Id:"DUMON",IdP:"",N:"Du monde entier",N1:"",N2:"",A:"67, rue des Cinquante Otages, Nantes, 44000, France"},
{Id:"EASTC",IdP:"",N:"Eastern Connection",N1:"",N2:"",A:"35 King George, London, WX3 6FW, UK"},{Id:"ERNSH",IdP:"",N:"Ernst Handel",N1:"",N2:"",A:"Kirchgasse 6, Graz, 8010, Austria"},{Id:"FAMIA",IdP:"",N:"Familia Arquibaldo",N1:"",N2:"",A:"Rua Orós, 92, Sao Paulo, 05442-030, Brazil"},{Id:"FISSA",IdP:"",N:"FISSA Fabrica Inter. Salchichas S.A.",N1:"",N2:"",A:"C/ Moralzarzal, 86, Madrid, 28034, Spain"},{Id:"FOLIG",IdP:"",N:"Folies gourmandes",N1:"",N2:"",A:"184, chaussée de Tournai, Lille, 59000, France"},
{Id:"FOLKO",IdP:"",N:"Folk och fä HB",N1:"",N2:"",A:"Åkergatan 24, Bräcke, S-844 67, Sweden"},{Id:"FRANR",IdP:"",N:"France restauration",N1:"",N2:"",A:"54, rue Royale, Nantes, 44000, France"},{Id:"FRANS",IdP:"",N:"Franchi S.p.A.",N1:"",N2:"",A:"Via Monte Bianco 34, Torino, 10100, Italy"},{Id:"FRANK",IdP:"",N:"Frankenversand",N1:"",N2:"",A:"Berliner Platz 43, München, 80805, Germany"},{Id:"FURIB",IdP:"",N:"Furia Bacalhau e Frutos do Mar",N1:"",N2:"",A:"Jardim das rosas n. 32, Lisboa, 1675, Portugal"},
{Id:"GALED",IdP:"",N:"Galería del gastrónomo",N1:"",N2:"",A:"Rambla de Cataluña, 23, Barcelona, 08022, Spain"},{Id:"GODOS",IdP:"",N:"Godos Cocina Típica",N1:"",N2:"",A:"C/ Romero, 33, Sevilla, 41101, Spain"},{Id:"GOURL",IdP:"",N:"Gourmet Lanchonetes",N1:"",N2:"",A:"Av. Brasil, 442, Campinas, 04876-786, Brazil"},{Id:"GREAL",IdP:"",N:"Great Lakes Food Market",N1:"",N2:"",A:"2732 Baker Blvd., Eugene, 97403, USA"},{Id:"GROSR",IdP:"",N:"GROSELLA-Restaurante",N1:"",N2:"",A:"5ª Ave. Los Palos Grandes, Caracas, 1081, Venezuela"},
{Id:"HANAR",IdP:"",N:"Hanari Carnes",N1:"",N2:"",A:"Rua do Paço, 67, Rio de Janeiro, 05454-876, Brazil"},{Id:"HILAA",IdP:"",N:"HILARION-Abastos",N1:"",N2:"",A:"Carrera 22 con Ave. Carlos Soublette #8-35, San Cristóbal, 5022, Venezuela"},{Id:"HUNGC",IdP:"",N:"Hungry Coyote Import Store",N1:"",N2:"",A:"City Center Plaza 516 Main St., Elgin, 97827, USA"},{Id:"HUNGO",IdP:"",N:"Hungry Owl All-Night Grocers",N1:"",N2:"",A:""},{Id:"ISLAT",IdP:"",N:"Island Trading",N1:"",N2:"",A:"Garden House Crowther Way, Cowes, PO31 7PJ, UK"},
{Id:"KOENE",IdP:"",N:"Königlich Essen",N1:"",N2:"",A:"Maubelstr. 90, Brandenburg, 14776, Germany"},{Id:"LACOR",IdP:"",N:"La corne d''abondance",N1:"",N2:"",A:"67, avenue de l''Europe, Versailles, 78000, France"},{Id:"LAMAI",IdP:"",N:"La maison d''Asie",N1:"",N2:"",A:"1 rue Alsace-Lorraine, Toulouse, 31000, France"},{Id:"LAUGB",IdP:"",N:"Laughing Bacchus Wine Cellars",N1:"",N2:"",A:"1900 Oak St., Vancouver, V3F 2K1, Canada"},{Id:"LAZYK",IdP:"",N:"Lazy K Kountry Store",N1:"",N2:"",A:"12 Orchestra Terrace, Walla Walla, 99362, USA"},
{Id:"LEHMS",IdP:"",N:"Lehmanns Marktstand",N1:"",N2:"",A:"Magazinweg 7, Frankfurt a.M., 60528, Germany"},{Id:"LETSS",IdP:"",N:"Let''s Stop N Shop",N1:"",N2:"",A:"87 Polk St. Suite 5, San Francisco, 94117, USA"},{Id:"LILAS",IdP:"",N:"LILA-Supermercado",N1:"",N2:"",A:"Carrera 52 con Ave. Bolívar #65-98 Llano Largo, Barquisimeto, 3508, Venezuela"},{Id:"LINOD",IdP:"",N:"LINO-Delicateses",N1:"",N2:"",A:"Ave. 5 de Mayo Porlamar, I. de Margarita, 4980, Venezuela"},{Id:"LONEP",IdP:"",N:"Lonesome Pine Restaurant",
N1:"",N2:"",A:"89 Chiaroscuro Rd., Portland, 97219, USA"},{Id:"MAGAA",IdP:"",N:"Magazzini Alimentari Riuniti",N1:"",N2:"",A:"Via Ludovico il Moro 22, Bergamo, 24100, Italy"},{Id:"MAISD",IdP:"",N:"Maison Dewey",N1:"",N2:"",A:"Rue Joseph-Bens 532, Bruxelles, B-1180, Belgium"},{Id:"MEREP",IdP:"",N:"Mère Paillarde",N1:"",N2:"",A:"43 rue St. Laurent, Montréal, H1J 1C3, Canada"},{Id:"MORGK",IdP:"",N:"Morgenstern Gesundkost",N1:"",N2:"",A:"Heerstr. 22, Leipzig, 04179, Germany"},{Id:"NORTS",IdP:"",
N:"North/South",N1:"",N2:"",A:"South House 300 Queensbridge, London, SW7 1RZ, UK"},{Id:"OCEAN",IdP:"",N:"Océano Atlántico Ltda.",N1:"",N2:"",A:"Ing. Gustavo Moncada 8585 Piso 20-A, Buenos Aires, 1010, Argentina"},{Id:"OLDWO",IdP:"",N:"Old World Delicatessen",N1:"",N2:"",A:"2743 Bering St., Anchorage, 99508, USA"},{Id:"OTTIK",IdP:"",N:"Ottilies Käseladen",N1:"",N2:"",A:"Mehrheimerstr. 369, Köln, 50739, Germany"},{Id:"PARIS",IdP:"",N:"Paris spécialités",N1:"",N2:"",A:"265, boulevard Charonne, Paris, 75012, France"},
{Id:"PERIC",IdP:"",N:"Pericles Comidas clásicas",N1:"",N2:"",A:"Calle Dr. Jorge Cash 321, México D.F., 05033, Mexico"},{Id:"PICCO",IdP:"",N:"Piccolo und mehr",N1:"",N2:"",A:"Geislweg 14, Salzburg, 5020, Austria"},{Id:"PRINI",IdP:"",N:"Princesa Isabel Vinhos",N1:"",N2:"",A:"Estrada da saúde n. 58, Lisboa, 1756, Portugal"},{Id:"QUEDE",IdP:"",N:"Que Delícia",N1:"",N2:"",A:"Rua da Panificadora, 12, Rio de Janeiro, 02389-673, Brazil"},{Id:"QUEEN",IdP:"",N:"Queen Cozinha",N1:"",N2:"",
A:"Alameda dos Canàrios, 891, Sao Paulo, 05487-020, Brazil"},{Id:"QUICK",IdP:"",N:"QUICK-Stop",N1:"",N2:"",A:"Taucherstraße 10, Cunewalde, 01307, Germany"},{Id:"RANCH",IdP:"",N:"Rancho grande",N1:"",N2:"",A:"Av. del Libertador 900, Buenos Aires, 1010, Argentina"},{Id:"RATTC",IdP:"",N:"Rattlesnake Canyon Grocery",N1:"",N2:"",A:"2817 Milton Dr., Albuquerque, 87110, USA"},{Id:"REGGC",IdP:"",N:"Reggiani Caseifici",N1:"",N2:"",A:"Strada Provinciale 124, Reggio Emilia, 42100, Italy"},{Id:"RICAR",
IdP:"",N:"Ricardo Adocicados",N1:"",N2:"",A:"Av. Copacabana, 267, Rio de Janeiro, 02389-890, Brazil"},{Id:"RICSU",IdP:"",N:"Richter Supermarkt",N1:"",N2:"",A:"Grenzacherweg 237, Genève, 1203, Switzerland"},{Id:"ROMEY",IdP:"",N:"Romero y tomillo",N1:"",N2:"",A:"Gran Vía, 1, Madrid, 28001, Spain"},{Id:"SANTG",IdP:"",N:"Santé Gourmet",N1:"",N2:"",A:"Erling Skakkes gate 78, Stavern, 4110, Norway"},{Id:"SAVEA",IdP:"",N:"Save-a-lot Markets",N1:"",N2:"",A:"187 Suffolk Ln., Boise, 83720, USA"},
{Id:"SEVES",IdP:"",N:"Seven Seas Imports",N1:"",N2:"",A:"90 Wadhurst Rd., London, OX15 4NB, UK"},{Id:"SIMOB",IdP:"",N:"Simons bistro",N1:"",N2:"",A:"Vinbæltet 34, Kobenhavn, 1734, Denmark"},{Id:"SPECD",IdP:"",N:"Spécialités du monde",N1:"",N2:"",A:"25, rue Lauriston, Paris, 75016, France"},{Id:"SPLIR",IdP:"",N:"Split Rail Beer & Ale",N1:"",N2:"",A:"P.O. Box 555, Lander, 82520, USA"},{Id:"SUPRD",IdP:"",N:"Suprêmes délices",N1:"",N2:"",A:"Boulevard Tirou, 255, Charleroi, B-6000, Belgium"},
{Id:"THEBI",IdP:"",N:"The Big Cheese",N1:"",N2:"",A:"89 Jefferson Way Suite 2, Portland, 97201, USA"},{Id:"THECR",IdP:"",N:"The Cracker Box",N1:"",N2:"",A:"55 Grizzly Peak Rd., Butte, 59801, USA"},{Id:"TOMSP",IdP:"",N:"Toms Spezialitäten",N1:"",N2:"",A:"Luisenstr. 48, Münster, 44087, Germany"},{Id:"TORTU",IdP:"",N:"Tortuga Restaurante",N1:"",N2:"",A:"Avda. Azteca 123, México D.F., 05033, Mexico"},{Id:"TRADH",IdP:"",N:"Tradição Hipermercados",N1:"",N2:"",A:"Av. Inês de Castro, 414, Sao Paulo, 05634-030, Brazil"},
{Id:"TRAIH",IdP:"",N:"Trail''s Head Gourmet Provisioners",N1:"",N2:"",A:"722 DaVinci Blvd., Kirkland, 98034, USA"},{Id:"VAFFE",IdP:"",N:"Vaffeljernet",N1:"",N2:"",A:"Smagsloget 45, Århus, 8200, Denmark"},{Id:"VICTE",IdP:"",N:"Victuailles en stock",N1:"",N2:"",A:"2, rue du Commerce, Lyon, 69004, France"},{Id:"VINET",IdP:"",N:"Vins et alcools Chevalier",N1:"",N2:"",A:"59 rue de l''Abbaye, Reims, 51100, France"},{Id:"WARTH",IdP:"",N:"Wartian Herkku",N1:"",N2:"",A:"Torikatu 38, Oulu, 90110, Finland"},
{Id:"WELLI",IdP:"",N:"Wellington Importadora",N1:"",N2:"",A:"Rua do Mercado, 12, Resende, 08737-363, Brazil"},{Id:"WHITC",IdP:"",N:"White Clover Markets",N1:"",N2:"",A:"305 - 14th Ave. S. Suite 3B, Seattle, 98128, USA"},{Id:"WILMK",IdP:"",N:"Wilman Kala",N1:"",N2:"",A:"Keskuskatu 45, Helsinki, 21240, Finland"},{Id:"WOLZA",IdP:"",N:"Wolski  Zajazd",N1:"",N2:"",A:"ul. Filtrowa 68, Warszawa, 01-012, Poland"}])});c.RoadMap_Data=function(a){var c=[{Id:"1",IdC:"ALFKI",IdT:"ALFKI1",IdB:"",D:"2014-02-26",
Npp:"1",Note:"",N1:"Alfreds Futterkiste - Alfreds Futterkiste 1",N2:"Obere Str. 157, Berlin, 12209, Germany",N3:"ALFKI1"},{Id:"2",IdC:"BLAUS",IdT:"",IdB:"",D:"2014-02-26",Npp:"2",Note:"",N1:"Blauer See Delikatessen",N2:"Forsterstr. 57, Mannheim, 68306, Germany",N3:"BLAUS"},{Id:"3",IdC:"QUICK",IdT:"",IdB:"",D:"2014-02-26",Npp:"3",Note:"",N1:"QUICK-Stop",N2:"Taucherstraße 10, Cunewalde, 01307, Germany",N3:"QUICK"},{Id:"4",IdC:"OTTIK",IdT:"",IdB:"",D:"2014-02-26",Npp:"4",Note:"",N1:"Ottilies Käseladen",
N2:"Mehrheimerstr. 369, Köln, 50739, Germany",N3:"OTTIK"},{Id:"5",IdC:"DRACD",IdT:"",IdB:"",D:"2014-02-26",Npp:"5",Note:"",N1:"Drachenblut Delikatessen",N2:"Walserweg 21, Aachen, 52066, Germany",N3:"DRACD"}],d;for(d in c)c[d].D=a;return new DevExpress.data.DataSource({pageSize:P.maxSizeLocalDb,store:new DevExpress.data.ArrayStore(c)})};return c}(jQuery,window),DAL_web=function(g,f){function c(a,b){return a.lookup?new DevExpress.data.DataSource({pageSize:P.pageSize,load:function(h){a.paging&&
(a.prm.skip=h.skip,a.prm.take=h.take);h.searchValue&&(a.prm.searchString=h.searchValue);return g.ajax({url:P.dataSouceUrl+a.control,data:a.prm,xhrFields:{withCredentials:!0},headers:P.ajaxHeaders}).done(function(a){if(!a)return null;g.map(a,function(a){return b?b(a):a})})},lookup:function(a){return"lookup"}}):new DevExpress.data.DataSource({pageSize:P.pageSize,load:function(b){a.paging&&(a.prm.skip=b.skip,a.prm.take=b.take);return g.ajax({type:"GET",url:P.dataSouceUrl+a.control,data:a.prm,xhrFields:{withCredentials:!0},
headers:P.ajaxHeaders})},map:function(a){return b?b(a):a}})}function a(a,b){return new DevExpress.data.DataSource({pageSize:P.pageSize,load:function(h){return g.ajax({type:a.method,url:P.dataSouceUrl+a.control,data:a.prm,xhrFields:{withCredentials:!0},headers:P.ajaxHeaders,success:function(a){BAsket.notify(_.Common.ServerReply+a.Note)},error:function(a,b){BAsket.error(a.statusText+": "+a.status)}}).done(function(a){if(!a)return null;g.map(a,function(a){return b?b(a):a})})}})}var e={};f.localStorage.getItem("dataSouceUrl")||
f.DAL_tst||P.LoadFile("js/DAL_tst.js","js");e.TestConnect=function(a){P.dataSouceUrl&&g.ajax({type:"GET",url:P.dataSouceUrl+"Nms",xhrFields:{withCredentials:!0},headers:P.ajaxHeaders,success:function(a){BAsket.notify("Connection is OK "+P.dataSouceUrl)},error:function(a,d){BAsket.error("Connection is FAIL "+a.statusText+": "+a.status)}})};e.NMS=function(a){return P.dataSouceUrl?c({control:"Nms"}):DAL_tst.NMS_Data};e.Categories=function(a){return P.dataSouceUrl?c({control:"Categories",lookup:!0}):
DAL_tst.Categories_Data};e.Products=function(a){if(!P.dataSouceUrl)return DAL_tst.Products_Data;var b="Products";"ost"==a.pId&&(b="ProdStock");return c({control:b,paging:!0,prm:{pId:a.pId,searchString:a.search}},function(a){var b=!1,d;for(d in P.arrayBAsket)P.arrayBAsket[d].Id==a.Id&&(a.Quant=P.arrayBAsket[d].Quant,b=!0);b||(a.Quant="");return a})};e.ProductDetails=function(a){c({control:"Products/"+a.Id}).load().done(function(b){b[0]=P.setQuantToWar(b[0]);a.model.Name(b[0].N);a.model.Price(b[0].P.toFixed(2));
a.model.N1(b[0].N1);a.model.N2(b[0].N2);a.model.N3(b[0].N3);a.model.N4(b[0].N4);a.model.Ostat(b[0].O);a.model.Quant(b[0].Quant)})};e.ProductsByWars=function(a){return c({control:"Products/",prm:{w:a}},function(a){return P.setQuantToWar(a)}).load()};e.Clients=function(a){if(!P.dataSouceUrl)return DAL_tst.Clients_Data;var b={control:"Clients",paging:!0,prm:{}};a?b.prm=a.search?{searchString:a.search}:a:b.lookup=!0;return c(b,function(a){a.Name=a.N;a.Adres=a.A;return a})};e.ClientsPar=function(a){return c({control:"Clients/"+
a,prm:{fil:!0}},function(a){a.Name=a.N;a.Adres=a.A;return a})};e.ClientById=function(a){return c({control:"Clients/"+a},function(a){a.Name=a.N;a.Adres=a.A;return a})};e.Bil=function(a){return c({control:"Bil",paging:!0,prm:{searchString:a.search}},function(a){a.Name=a.N1;a.Adres=a.N2;a.ShortDate=a.DateDoc.substring(0,5);return a})};e.BilById=function(a){return c({control:"Bil/"+a})};e.SaveBil=function(d){d.cmd="SaveBil";return a({method:"POST",control:"Bil/",prm:d}).load()};e.DeleteBil=function(d){d.cmd=
"DelBil";return a({method:"POST",control:"Bil/",prm:d}).load()};e.SendRepo=function(d){d.cmd="SendRepo";return a({method:"POST",control:"Bil/",prm:d}).load()};e.RoadMap=function(a,b){var h=U.DateFormat(a,"yyyy-mm-dd");if(!P.dataSouceUrl&&b)return DAL_tst.RoadMap_Data(h);prms={date:h};b&&(prms.allGt=!0);return c({control:"RoadMap",paging:!0,prm:prms},function(a){a.Name=a.N1;a.Adres=a.N2;return a})};e.SaveRMBil=function(d,b){return a({method:"POST",control:"RoadMap/",prm:{cmd:"UpdIdB",Id:d,IdB:b}}).load()};
return e}(jQuery,window);
function SQLite(g){function f(a){}function c(a){console||console.log("Oops. "+a.message+" (Code "+a.code+")")}function a(a,c,f,g){function m(d,c){r(c,a)}function l(d,c){f(d,c,a)}var k=c||[],r=g||e.defaultErrorHandler;a&&""!==a&&d.transaction(function(d){d.executeSql(a,k,l,m)})}if("undefined"!==typeof window.openDatabase){var e=g||{},d;e.shortName=e.shortName||"BAsketDB";e.version=e.version||"1.0";e.displayName=e.displayName||"BAsketDB SQLite Database";e.maxSize=P.maxSizeLocalDb;e.defaultErrorHandler=
e.defaultErrorHandler||c;e.defaultDataHandler=e.defaultDataHandler||f;d=openDatabase(e.shortName,e.version,e.displayName,e.maxSize);return{database:d,executeSql:function(d,c,e,f){a(d,c,e,f)},transaction:function(a,c,e){c||(c=function(){});e||(e=function(){});d.transaction(a,c,e)}}}}
var DAL=function(g,f){function c(a,d){return new DevExpress.data.DataSource({pageSize:a.paging?P.pageSize:P.maxSizeLocalDb,load:function(c){a.paging&&(a.skip=c.skip,a.take=c.take);a.searchValue=c.searchExpr&&c.searchValue?c.searchValue:null;var b=new g.Deferred;k=a.query;c="";a.searchString&&a.searchString()?c=a.searchString():a.searchValue&&(c=a.searchValue);if(c){var e=" and (N LIKE '%"+c+"%')";a.searchReg&&(e=a.searchReg.replace("@",c));k=0<k.indexOf("#")?k.replace("#",e):k+e}k=k.replace("#","");
a.paging&&(k+=" LIMIT "+a.skip+", "+a.take);r.executeSql(k,[],function(a,c){for(var k=[],n=0;n<c.rows.length;n++){var e=c.rows.item(n);d&&(e=d(e));k.push(e)}b.resolve(k)},function(a,c){m("*execDataSource sql*",a,c)});return b},lookup:function(a){return"lookup"}})}function a(a,c){var d=new g.Deferred;k=a;r.executeSql(k,[],function(a,b){if("INSERT "==k.toUpperCase().substring(0,7))d.resolve(b);else{for(var n=[],e=0;e<b.rows.length;e++){var h=b.rows.item(e);c&&(h=c(h));n.push(h)}d.resolve(n)}},function(a,
c){m("*execQuery sql*",a,c)});return d}function e(a,c,d,b,k){a.executeSql(c,d,function(a,c){for(var d=[],n=0;n<c.rows.length;++n)d.push(c.rows.item(n));b&&b(a,d,c,k)},function(a,c){m("*executeQuery*",a,c)})}function d(){for(var a in p)if(p[a])return!1;return!0}function b(a,c){if("NMS"==c){P.arrNMS=[];var b=0;for(b in a){var e=a[b].IdP;P.arrNMS[e]||(P.arrNMS[e]=[]);P.arrNMS[e].push(a[b]);P.ChangeValue("NMS"+e,JSON.stringify(P.arrNMS[e]))}p.NMS=!1;d()&&P.loadPanelVisible(!1)}"CAT"==c&&(a.length||(a=
[{Id:"0",Name:"-"}]),b=JSON.stringify(a),P.arrCategory=JSON.parse(P.ChangeValue("categories",b)),p.CAT=!1,d()&&P.loadPanelVisible(!1));"WAR"==c&&(v=a,r.transaction(function(a){k="Update WAR set O=0";a.executeSql(k,[],function(a,b){r.transaction(h,function(a,d){m("*write "+c+"*",a,d);P.loadPanelVisible(!1)},function(){P.trace(_.ReadNews.WroteRecs+c+": success");p.WAR=!1;d()&&P.loadPanelVisible(!1)})},function(a,c){m("*writeToWAR-ost sql*",a,c)})}));"CLI"==c&&(q=a,r.transaction(t,function(a,d){m("*write "+
c+"*",a,d);P.loadPanelVisible(!1)},function(){P.trace(_.ReadNews.WroteRecs+c+": success");p.CLI=!1;d()&&P.loadPanelVisible(!1)}));"MAP"==c&&(w=a,r.transaction(u,function(a,d){m("*write "+c+"*",a,d);P.loadPanelVisible(!1)},function(){P.trace(_.ReadNews.WroteRecs+c+": success");p.MAP=!1;d()&&P.loadPanelVisible(!1)}))}function h(a){P.loadPanelVisible(!0);var c=v,d,b=c.length;for(d=0;d<b;d++)k="Select Id From WAR Where Id='"+c[d].Id+"'",e(a,k,[],function(a,c,d,b){"ost"==s&&d.rows.length?k="UPDATE WAR set O='"+
b.O+"' WHERE Id='"+b.Id+"'":(b.N1=b.N1?b.N1:"",b.N2=b.N2?b.N2:"",b.N3=b.N3?b.N3:"",b.N=b.N.replace(/'/g,"''"),b.N1=b.N1.replace(/'/g,"''"),b.N2=b.N2.replace(/'/g,"''"),b.N3=b.N3.replace(/'/g,"''"),b.N4=b.N4.replace(/'/g,"''"),k=d.rows.length?"UPDATE WAR set IdP='"+b.IdP+"', N='"+b.N+"', N1='"+b.N1+"', N2='"+b.N2+"', N3='"+b.N3+"', N4='"+b.N4+"', P='"+b.P+"', O='"+b.O+"' WHERE Id='"+b.Id+"'":"INSERT INTO WAR (Id, IdP, N, P, N1, N2, N3, N4, O) VALUES('"+b.Id+"','"+b.IdP+"','"+b.N+"','"+b.P+"','"+b.N1+
"','"+b.N2+"','"+b.N3+"','"+b.N4+"','"+b.O+"')");a.executeSql(k,[],function(a,b){},function(a,b){m("*writeToWAR sql*",a,b)})},c[d]);P.trace(_.ReadNews.ReadRecs+" WAR: "+d)}function t(a){P.loadPanelVisible(!0);var b=q,c;for(c=0;c<b.length;c++)k="Select Id From CLI Where Id='"+b[c].Id+"'",e(a,k,[],function(a,b,c,d){d.IdP=null==d.IdP||"null"==d.IdP?"0":d.IdP;d.N=d.N.replace(/'/g,"''");d.A=d.A.replace(/'/g,"''");k=c.rows.length?"UPDATE CLI set IdP='"+d.IdP+"', N='"+d.N+"', A='"+d.A+"' WHERE Id='"+d.Id+
"'":"INSERT INTO CLI (Id, IdP, N, A) VALUES('"+d.Id+"','"+d.IdP+"','"+d.N+"','"+d.A+"')";a.executeSql(k,[],function(a,b){},function(a,b){m("*writeToCLI sql*",a,b)})},b[c]);P.trace(_.ReadNews.ReadRecs+" CLI: "+c);P.itemCount.Clients=P.ChangeValue("Clients",c)}function u(a){P.loadPanelVisible(!0);var b=U.DateFormat(new Date,"yyyy-mm-dd");k="Delete From RMAP Where DateDoc>='"+b+"'";a.executeSql(k,[],function(a,c){var d=w,e;for(e=0;e<d.length;e++){var n=d[e];n.IdT=null==n.IdT||"null"==n.IdT?"0":n.IdT;
b=U.DateFormat(n.D,"yyyy-mm-dd");k="INSERT INTO RMAP (DateDoc, Npp, IdC, IdT, Note) VALUES('"+n.D+"','"+ +n.Npp+"','"+n.IdC+"','"+n.IdT+"','"+n.Note+"')";a.executeSql(k,[],function(a,b){},function(a,b){m("*writeToMAP sql*",a,b)})}P.trace(_.ReadNews.ReadRecs+" MAP: "+e)},function(a,b){m("*writeToMAP-rd sql*",a,b)})}function m(a,b,c){P.trace(a+" SQLError: "+(b?b.message?b.message:c.message:a)+"("+(b?b.code||b&&0==b.code?b.code:c.code:"")+") dbLastQ="+k);return!1}var l={},k="",r=SQLite(),p={};l.Products=
function(a,b){return P.useWebDb?c({query:"SELECT * FROM WAR WHERE IdP='"+a.pId+"' and O>0",paging:!b,searchString:a.search},function(a){var b=!1,c;for(c in P.arrayBAsket)P.arrayBAsket[c].Id==a.Id&&(a.Quant=P.arrayBAsket[c].Quant,b=!0);b||(a.Quant="");return a}):DAL_web.Products(a)};l.ProductDetails=function(a){if(!P.useWebDb)return DAL_web.ProductDetails(a);k="SELECT * FROM WAR WHERE Id='"+a.Id+"'";r.executeSql(k,[],function(b,c){a.Quant="0";a=P.setQuantToWar(a);0<c.rows.length&&(a.model.Name(c.rows.item(0).N),
a.model.Price(c.rows.item(0).P.toFixed(2)),a.model.N1(c.rows.item(0).N1),a.model.N2(c.rows.item(0).N2),a.model.N3(c.rows.item(0).N3),a.model.N4(c.rows.item(0).N4),a.model.Ostat(c.rows.item(0).O),a.model.Quant(a.Quant))})};l.ProductsByWars=function(b){var c="";P.arrayBAsket=[];var d=b.split(";"),k;for(k in d){var e=d[k].split(":");e[0]&&(P.arrayBAsket.push({Id:e[0],Quant:e[1]}),c+="'"+e[0]+"',")}return P.useWebDb?a("SELECT * FROM WAR WHERE Id in ("+c.substring(0,c.length-1)+")",function(a){return P.setQuantToWar(a)}):
DAL_web.ProductsByWars(b)};l.Clients=function(a){if(!P.useWebDb)return DAL_web.Clients(a);var b={query:"SELECT * FROM CLI Where IdP='0' or IdP=''",paging:!0};a&&a.search&&(b.searchString=a.search);return c(b)};l.ClientsPar=function(a){return P.useWebDb?c({query:"SELECT * FROM CLI Where IdP='"+a+"'"}):DAL_web.ClientsPar(a)};l.ClientById=function(a){return P.useWebDb?c({query:"SELECT c.*, par.N as ParName, IFNULL(par.N || ' - ' || c.N, c.N) as N2 FROM CLI c Left Join CLI par On c.IdP=par.Id Where c.Id='"+
a+"'"}):DAL_web.ClientById(a)};l.Bil=function(a,b){return!P.useWebDb||b?DAL_web.Bil(a):c({paging:!0,searchString:a.search,searchReg:" and (c.N LIKE '%@%')",query:"SELECT b.*, c.N as N1, t.N as N2, substr(b.DateDoc,1,5) as ShortDate, IFNULL(c.N || ' - ' || t.N, c.N) as Name, IFNULL(t.A, c.A) as Adres FROM Bil b Join CLI c On b.IdC=c.Id Left Join CLI t On b.IdT=t.Id Where 1=1 # Order by bSusp, Id desc"})};l.BilById=function(a,b){return!P.useWebDb||b?DAL_web.BilById(a):c({query:"SELECT b.*, c.N as N1, t.N as N2 FROM Bil b Join CLI c On b.IdC=c.Id Left Join CLI t On b.IdT=t.Id WHERE b.Id='"+
a+"'"})};l.SaveBil=function(b,c){if(!P.useWebDb||c)return DAL_web.SaveBil(b);var d="";b.sOther||(b.sOther="");b.sNote||(b.sNote="");b.sWars||(b.sWars="");b.sumDoc||(b.sumDoc="");d=b.id?"UPDATE Bil set DateDoc='"+b.date+"', IdC='"+b.IdC+"', IdT='"+b.IdT+"', SumDoc='"+b.sumDoc+"', Note='"+b.sNote+"', P1='"+b.sOther+"', Wars='"+b.sWars+"' WHERE Id='"+b.id+"'":"INSERT INTO Bil (DateDoc, IdC, IdT, SumDoc, Note, P1, Wars, bSusp) VALUES('"+b.date+"', '"+b.IdC+"','"+b.IdT+"','"+b.sumDoc+"','"+b.sNote+"', '"+
b.sOther+"', '"+b.sWars+"', 0)";return a(d)};l.ChangeActivityBil=function(b){return a("UPDATE Bil set bSusp = 1-bSusp WHERE Id="+b)};l.DeleteBil=function(b,c){if(!P.useWebDb||c)return DAL_web.DeleteBil(b);a("UPDATE RMAP set IdB=null Where IdB="+b.id);return a("DELETE FROM Bil Where Id="+b.id)};l.SendBils=function(){P.useWebDb&&P.dataSouceUrl&&a("SELECT * FROM Bil WHERE bSusp=0").done(function(b){var c={},d;for(d in b)c.id=b[d].IdServ,c.IdLoc=b[d].Id,c.IdC=b[d].IdC,c.IdT=b[d].IdT,c.date=b[d].DateDoc,
c.sNote=b[d].Note,c.sWars=b[d].Wars,c.sOther=b[d].Other,c.sumDoc=b[d].SumDoc,DAL_web.SaveBil(c).done(function(b){var c="UPDATE Bil set bSusp=1";if(0<b[0].Note.length){var c=c+(", ServRet='"+b[0].Note+"'"),d=b[0].Note.split(" ")[0];0<d.length&&(c+=", IdServ='"+d+"'")}c+=" WHERE Id="+b[0].LocNum;a(c)})})};l.RoadMap=function(a){if(!P.useWebDb)return DAL_web.RoadMap(a);a=U.DateFormat(a,"yyyy-mm-dd");return c({query:"SELECT r.*, c.N as N1, t.N as N2, IFNULL(t.N || ' - ' || c.N, c.N) as Name, IFNULL(t.A, c.A) as Adres, IFNULL(t.Id, c.Id) as N3 FROM RMAP r Join CLI c On r.IdC=c.Id Left Join CLI t On r.IdT=t.Id Where DateDoc='"+
a+"' Order by Npp"})};l.SwapRmap=function(b,c,d,e,k){a("UPDATE RMAP set Npp="+c+" Where Id="+b).done(function(){a("UPDATE RMAP set Npp="+e+" Where Id="+d).done(function(){k()})})};l.DeleteRMap=function(b){return a("DELETE FROM RMAP Where Id='"+b+"'")};l.SaveRMBil=function(b,c){return P.useWebDb?a("UPDATE RMAP set IdB="+c+" Where Id="+b):DAL_web.SaveRMBil(b,c)};l.AddCliRMap=function(b,c){a("INSERT INTO RMAP (DateDoc, Npp, IdC, IdT) VALUES('"+b.date+"',"+b.Npp+",'"+b.IdC+"','"+b.IdT+"')").done(function(){c()})};
l.CountTable=function(b){return P.useWebDb?a("SELECT count(Id) as cnt FROM "+b):null};l.TableCount=function(a){if(!P.useWebDb)return null;DAL.CountTable("Bil").done(function(a){P.itemCount.OrderList=P.ChangeValue("OrderList",a[0].cnt)});DAL.CountTable("CLI").done(function(a){P.itemCount.Clients=P.ChangeValue("Clients",a[0].cnt)});DAL.CountTable("RMAP").done(function(a){var b=new Date,b=b.getDate()+"."+(b.getMonth()+1);P.itemCount.RoadMapList=P.ChangeValue("RoadMapList",b+" ("+a[0].cnt+")")})};var s;
l.ReadNews=function(a,c){P.loadPanelVisible(!0);p={NMS:!0,CAT:!0,WAR:!0,CLI:!0,MAP:!0};DAL_web.NMS().load().done(function(a){b(a,"NMS")});DAL_web.Categories().load().done(function(a){b(a,"CAT")});var e=new Date;P.itemCount.ReadNews=P.ChangeValue("ReadNews",e.getDate()+"."+(e.getMonth()+1));P.useWebDb?(c&&l.RecreateLocalDB(),s=a?"all":"ost",DAL_web.Products({pId:s}).load().done(function(a){b(a,"WAR")}),a?(DAL_web.Clients({pId:"all"}).load().done(function(a){b(a,"CLI")}),DAL_web.RoadMap(new Date,!0).load().done(function(a){b(a,
"MAP")})):(p.CLI=p.MAP=!1,d()&&P.loadPanelVisible(!1)),P.itemCount.OrderList=P.ChangeValue("OrderList",0),P.itemCount.RoadMapList=P.ChangeValue("RoadMapList",0),0<P.arrCategory.length?P.Init():BAsket.notify(_.Common.SomethingWrong,"error")):(p.WAR=p.CLI=!1,d()&&P.loadPanelVisible(!1))};l.RecreateLocalDB=function(){P.trace("Local DB SCRIPT");r.transaction(function(a){for(i=0;i<x.length;i++)(k=x[i])&&a.executeSql(k,[],function(a,b){},function(a,b){m("*RecreateLocalDB*",a,b)})})};var v,q,w,x="DROP TABLE IF EXISTS WAR;DROP TABLE IF EXISTS CLI;DROP TABLE IF EXISTS Bil;DROP TABLE IF EXISTS RMAP;DROP TABLE IF EXISTS BILM;CREATE TABLE IF NOT EXISTS WAR (Id unique, IdP, N, P DECIMAL(20,2), N1, N2, N3, N4, N5, O int, bSusp int);CREATE TABLE IF NOT EXISTS CLI (Id unique, IdP, N, A);CREATE TABLE IF NOT EXISTS Bil (Id INTEGER PRIMARY KEY AUTOINCREMENT, DateDoc DateTime, IdC, IdT, NumDoc, SumDoc, Note, Wars, P1, P2, DateSync DateTime, ServRet, IdServ, bSusp int);CREATE TABLE IF NOT EXISTS RMAP (Id INTEGER PRIMARY KEY AUTOINCREMENT, DateDoc DateTime, Npp int, IdB int, IdC, IdT, Note, DateSync DateTime, ServRet, bSusp int);".split(";");
return l}(jQuery,window);
BAsket.Order=function(g){var f=ko.observable([{Id:"",Name:""}]),c=ko.observable(!1),a=ko.observable(new Date),e=ko.observable(0),d=ko.observable(_.Order.SelectClient+"..."),b=ko.observable(0),h=ko.observable(_.Order.SelectPoint+"..."),t=ko.observable(""),u=ko.observableArray([_.getText("Select"),_.getText("Select")]),m=ko.observable("");P.fromProducts||(P.arrayBAsket=[]);g.Id&&DAL.BilById(g.Id,g.s).load().done(function(l){!P.fromProducts&&l[0].Wars&&DAL.ProductsByWars(l[0].Wars).done(function(a){P.arrayBAsket=a;
m(Order_calcSum())});var k=l[0].DateDoc;1<k.split(" ").length&&(k=k.split(" ")[0]);var g=k.split(".");1==g.length&&(g=k.split("-"));2<g[0].length?a(new Date(g[0],g[1]-1,g[2])):a(new Date(g[2],g[1]-1,g[0]));k=u();if(g=l[0].P1){for(var g=g.split(";"),p=0;p<g.length;p++){var s=g[p].split(":");if(!(2>s.length)){var v=parseInt(s[0]),q=$("#idNms"+v).data("dxSelectBox");if(q)for(q.option().value=s[1],q=0;q<P.arrNMS[v].length;q++)if(P.arrNMS[v][q].Id==s[1]){k[v-1]=P.arrNMS[v][q].N;break}}}u(k)}t(l[0].Note);
e(l[0].IdC);d(l[0].N1);b(l[0].IdT);h(l[0].N2?l[0].N2:_.Order.SelectPoint+"...");DAL.ClientsPar(l[0].IdC).load().done(function(a){f(a);c(0<a.length)})});Order_clientChanged=function(a){var b="";a&&0<a.element.length&&(b=$("#lookupClient").data("dxLookup").option().value);if(b){var c=this;c.tpId(0);c.tpName(_.Order.SelectPoint+"...");DAL.ClientsPar(b).load().done(function(a){c.arrayTP(a);c.showTP(0<a.length)})}};Order_calcSum=function(a){a=a?a.replace("-",""):_.Products.SelSum.replace("#",P.arrayBAsket.length);
var b=0,c;for(c in P.arrayBAsket)b+=P.arrayBAsket[c].Quant*P.arrayBAsket[c].P;return a+b.toFixed(2)};Order_btnSaveClicked=function(){if(0==P.arrayBAsket.length)BAsket.notify(_.Order.ErrNoWars,"error");else{var a=$("#idDate").data("dxDateBox").option("value");if(a){var b=$("#lookupClient").data("dxLookup").option("value");if(b){var c=$("#lookupTP").data("dxLookup").option("value"),d={};g.Id&&(d.id=g.Id);d.date=U.DateFormat(a);d.IdC=b;d.IdT=c?c:"";d.sumDoc=Order_calcSum("-");d.sOther="";for(a=0;a<P.arrNMS[0].length;a++)(b=
$("#idNms"+(a+1)).data("dxSelectBox"))&&b.option().value&&10>P.arrNMS[0][a].Id&&(d.sOther+=a+1+":"+b.option().value+";");d.sNote=$("#txtNote").data("dxTextArea").option("value");b="";for(a in P.arrayBAsket)b+=P.arrayBAsket[a].Id+":"+P.arrayBAsket[a].Quant+";";d.sWars=b.substring(0,b.length-1);DAL.SaveBil(d,g.s);Order_clickBack();(d=DAL.CountTable("Bil"))&&d.done(function(a){P.itemCount.OrderList=P.ChangeValue("OrderList",a[0].cnt)})}else BAsket.notify(_.Order.ErrNoCli,"error")}else BAsket.notify(_.Order.ErrNoDate,
"error")}};Order_clickBack=function(a){P.fromProducts=!1;g.Id?(a=BAsket.app.navigationManager.currentStack.currentIndex,1>a?BAsket.app.navigate("home",{root:!0}):(a=BAsket.app.navigationManager.currentStack.items[a-1].uri)&&"RoadMapList"==a?BAsket.app.navigate("RoadMapList",{root:!0}):BAsket.app.navigate("OrderList",{root:!0})):BAsket.app.navigate("home",{root:!0})};Order_clickProduct=function(){BAsket.app.navigate("Products/"+P.curCategoryId)};return{swValue:g.s,clients:DAL.Clients(),arrayTP:f,showTP:c,
calcSum:m,dataVal:a,cliId:e,cliName:d,tpId:b,tpName:h,noteVal:t,nmsNames:u,viewShown:function(){m(Order_calcSum());for(var a=0;a<P.arrNMS[0].length;a++){var b=$("#idNms"+(a+1));1==b.length&&10>P.arrNMS[0][a].Id&&(b.parent().show(),b[0].parentNode.children[0].innerText=Globalize.localize(P.arrNMS[0][a].N))}}}};
BAsket.OrderList=function(g){g=ko.observable(500);var f=ko.observable(!1),c=ko.observable(0),a=ko.observable(""),e=ko.observable(_.Order.SwTitle1),d=ko.observable(!1),b={dataSource:DAL.Bil({search:a}),dataSourceS:DAL.Bil({search:a},!0),popVisible:f,holdTimeout:g,popActions:[{text:_.Order.ActionDelete,clickAction:function(){Order_DeleteClick()}},{text:_.Order.ChangeActivity,disabled:d,clickAction:function(){Order_ChangeActivity()}}],searchString:a,swTitle:e,swValue:d,viewShown:function(){d()?b.dataSourceS.load():
b.dataSource.load()}};ko.computed(function(){return b.searchString()}).extend({throttle:500}).subscribe(function(){b.dataSource.pageIndex(0);b.dataSource.load();b.dataSourceS.pageIndex(0);b.dataSourceS.load()});Order_SwitchSource=function(){d(!d());d()?e(_.Order.SwTitle2):(e(_.Order.SwTitle1),b.dataSource.load())};Order_DeleteClick=function(){DevExpress.ui.dialog.custom({message:_.Order.ActionDelete+" "+c()+" ?",title:_.Common.Confirm,buttons:[{text:_.getText("Yes"),clickAction:Order_Delete},{text:_.getText("Cancel")}]}).show()};
Order_Delete=function(a){DAL.DeleteBil({id:c()},d()).done(function(a){d()?b.dataSourceS.load():b.dataSource.load();DAL.CountTable("Bil").done(function(a){P.itemCount.OrderList=P.ChangeValue("OrderList",a[0].cnt)})})};Order_ChangeActivity=function(){DAL.ChangeActivityBil(c()).done(function(a){b.dataSource.load()})};Order_processItemHold=function(a){c(a.itemData.Id);f(!0)};return b};
BAsket.Clients=function(g){P.getGeo();g=ko.observable("");var f=ko.observable(500),c=ko.observable(!1),a=ko.observable(0),e={searchString:g,popVisible:c,holdTimeout:f,popActions:[],dataSource:DAL.Clients({search:g})};ko.computed(function(){return e.searchString()}).extend({throttle:500}).subscribe(function(){e.dataSource.pageIndex(0);e.dataSource.load()});Client_processItemHold=function(d){a(d.itemData.Id);c(!0)};return e};
BAsket.Client=function(g){P.getGeo();var f=ko.observable("");ko.observable(P.geoCurrent());var c=ko.observable(!1),a=ko.observable(!1),e=ko.observable(""),d={visibleMenu:c,popupVisible:a,menuItems:[_.Common.Save,_.Clients.RoutDetail],cliName:f,options:{provider:P.mapProvider,mapType:"roadmap",width:"100%",height:"100%",zoom:15,readyAction:function(){Client_MapReadyAction()}}};Client_ClickMenu=function(a){c(!c())};Client_ClickMenuAction=function(a){c(!1);BAsket.notify(a.itemData);if(a.itemData==a.model.menuItems[0])Client_menuSaveGeo();
else if(a.itemData==a.model.menuItems[1]){var d=e();if(d.legs&&0!=d.legs.length){var f;f=""+("<p>Движение на авто "+d.legs[0].duration.text+"; расстояние "+d.legs[0].distance.text+"<br/>от: "+d.legs[0].start_address+"<br/>до: "+d.legs[0].end_address+"</p>");f+="<p>в основном по "+d.summary+"</p>";f+="<br/><p>По шагам:</p>";
for(var g in d.legs[0].steps)f+="<p>"+(parseInt(g)+1)+") "+d.legs[0].steps[g].duration.text+"; "+d.legs[0].steps[g].distance.text,f+="; "+d.legs[0].steps[g].instructions+"</p>";a.model.popupVisible(!0);$("#textContainer").html(f)}}};Client_menuSaveGeo=function(a){BAsket.notify("Client_menuSaveGeo")};Client_clickCancel=function(b){a(!1)};Client_PullDownActionFunction=function(a){a.component.release()};Client_MapReadyAction=function(a){P.loadPanelVisible(!1);var c=$("#idClientMap").data("dxMap");c.addMarker({tooltip:_.Common.CurrentLocation,
location:P.geoCurrent()});DAL.ClientById(g.Id).load().done(function(a){f(a[0].N2+" ("+a[0].A+")");var b=a[0].geoLoc;if(b=a[0].A)c.addMarker({tooltip:a[0].N+", "+a[0].A,location:b});else{P.geoCoder(a[0].Adres).done(function(b){c.addMarker({tooltip:a[0].N+", "+a[0].A,location:b})});var d=c._options.markers[0].location.split(","),g=c._options.markers[1].location.split(",");d&&g&&2==d.length&&2==g.length&&(b=P.getDistance(d,g),d=P.geoBearing(d,g),f(f()+" dist="+b+" dir="+d))}c.addRoute({weight:5,color:"blue",
locations:[c._options.markers[0].location,c._options.markers[1].location]});new google.maps.DirectionsRenderer;(new google.maps.DirectionsService).route({origin:c._options.markers[0].location,destination:c._options.markers[1].location,travelMode:google.maps.TravelMode.DRIVING},function(a,b){b==google.maps.DirectionsStatus.OK&&e(a.routes[0])})})};return d};
BAsket.RoadMapList=function(g){P.getGeo();var f=ko.observable(g.Id&&"undefined"!=g.Id?new Date(g.Id):new Date),c=ko.observable(0),a=ko.observable(!1);g=ko.observable(500);var e=ko.observable(!1),d=ko.observable(!1),b=ko.observable([{Id:"",Name:""}]),h=ko.observable(0),t=ko.observable(_.Order.SelectClient+"..."),u=ko.observable(0),m=ko.observable(_.Order.SelectPoint+"..."),l={dataVal:f,popupVisible:e,holdTimeout:g,popVisible:a,popActions:[{text:_.RoadMap.OpenClient,clickAction:function(){RoadMap_Action("OpenClient")}},
{text:_.RoadMap.MoveUp,clickAction:function(){RoadMap_Move("MoveUp")}},{text:_.RoadMap.MoveDown,clickAction:function(){RoadMap_Move("MoveDown")}},{text:_.RoadMap.ActionDelete,clickAction:function(){RoadMap_Action("DeleteClick")}}],dataSource:DAL.RoadMap(f()),clients:DAL.Clients(),arrayTP:b,showTP:d,cliId:h,cliName:t,tpId:u,tpName:m,viewShown:function(){var a=new Date;0>location.hash.indexOf("/")&&f().toLocaleDateString()!=a.toLocaleDateString()&&RoadMap_ChangeDate()}};RoadMap_ChangeDate=function(a){BAsket.app.navigate("RoadMapList/"+
f(),{direction:"none",root:!0})};RoadMap_AddToTheMap=function(a){e(!0)};RoadMap_clickCancel=function(a){e(!1)};RoadMap_clientChanged=function(a){var b="";a&&0<a.element.length&&(b=$("#lookupClient").data("dxLookup").option().value);if(b){var c=this;c.tpId(0);c.tpName(_.Order.SelectPoint+"...");DAL.ClientsPar(b).load().done(function(a){c.arrayTP(a);c.showTP(0<a.length)})}};RoadMap_ClientSave=function(a){if(a=$("#lookupClient").data("dxLookup").option("value")){var b=$("#lookupTP").data("dxLookup").option("value"),
c={};c.date=U.DateFormat(f(),"yyyy-mm-dd");c.IdC=a;c.IdT=b?b:0;c.Npp=0<l.dataSource.items().length?parseInt(l.dataSource.items()[l.dataSource.items().length-1].Npp)+1:1;DAL.AddCliRMap(c,RoadMap_Reload);e(!1);t(_.Order.SelectClient+"...");m(_.Order.SelectPoint+"...")}else BAsket.notify(_.Order.ErrNoCli,"error")};RoadMap_ClickShow=function(a){a=a.model.dataSource._items;P.arrayBAsket=[];P.arrayBAsketL=[];for(var b in a)a[b].Adres&&(P.arrayBAsket.push({tooltip:(a[b].N2?a[b].N1+" - "+a[b].N2:a[b].N1)+
" ("+a[b].Adres+")",location:a[b].Adres}),P.arrayBAsketL.push(a[b].Adres));BAsket.app.navigate("RoadMap/")};RoadMap_Move=function(a){var b=-1,d;for(d in l.dataSource._items)if(c().Id==l.dataSource._items[d].Id){b=parseInt(d);break}0>b||("MoveUp"==a&&0==b?(BAsket.notify("First Position Up"),navigator.notification.beep(1)):"MoveDown"==a&&b==l.dataSource._items.length-1?(BAsket.notify("Last Position Down"),navigator.notification.beep(1)):(a="MoveDown"==a?1:-1,DAL.SwapRmap(c().Id,l.dataSource._items[b+
a].Npp,l.dataSource._items[b+a].Id,c().Npp,RoadMap_Reload)))};RoadMap_ClickClient=function(a){RoadMap_OpenBil(a.model)};RoadMap_OpenClient=function(a){a=a?a:c().N3;BAsket.app.navigate("Client/"+a)};RoadMap_OpenBil=function(a){var b=a?a:c();b.IdB?BAsket.app.navigate("Order/"+b.IdB):(a={},a.date=U.DateFormat(f()),a.IdC=b.IdC,a.IdT=b.IdT,a.Note=b.Note,DAL.SaveBil(a).done(function(a){var c=P.useWebDb?a.insertId:a[0].Id;DAL.SaveRMBil(b.Id,c).done(function(){BAsket.app.navigate("Order/"+c);l.dataSource.load()})}))};
RoadMap_Action=function(a){"DeleteClick"==a?DevExpress.ui.dialog.custom({message:_.RoadMap.ActionDelete+" "+c().Id+" ?",title:_.Common.Confirm,buttons:[{text:_.getText("Yes"),clickAction:RoadMap_Delete},{text:_.getText("Cancel")}]}).show():"OpenBil"==a?RoadMap_OpenBil():"OpenClient"==a?RoadMap_OpenClient():BAsket.notify(a)};RoadMap_Delete=function(a){DAL.DeleteRMap(c().Id);DAL.CountTable("RMAP").done(function(a){var b=new Date,b=b.getDate()+"."+(b.getMonth()+1);P.itemCount.RoadMap=P.ChangeValue("RoadMap",
b+" ("+a[0].cnt+")")});l.dataSource.load()};RoadMap_processItemHold=function(b){c(b.itemData);a(!0)};RoadMap_Reload=function(a){l.dataSource.load()};return l};BAsket.RoadMap=function(g){g={options:{provider:P.mapProvider,mapType:"roadmap",controls:!0,width:"100%",height:"100%",zoom:15,markers:P.arrayBAsket,routes:[{weight:5,color:"blue",locations:P.arrayBAsketL}],readyAction:function(){RoadMap_ReadyAction()}}};RoadMap_ReadyAction=function(f){P.loadPanelVisible(!1)};return g};
BAsket.Preferences=function(g){tabs=[{text:_.Preferences.Main,icon:"comment"},{text:_.Preferences.Functions,icon:"user"},{text:_.Preferences.Admin,icon:"preferences"}];var f=ko.observable(),c=ko.observable(0),a=ko.observable(!1);ko.computed(function(){2==c()?a(!0):a(!1);f(tabs[c()].content)});var e=ko.observable(P.dataSouceUrl),d=ko.observable("");ko.observable(!0);var b=ko.observable(P.modeProdView),h=ko.observable(P.debugMode),t=ko.observable(P.useWebDb),u=ko.observable(P.UserName);g=ko.observable(P.UserPass);
var m=ko.observable(P.UserEMail);Preferences_WsUrl=function(a){P.dataSouceUrl=P.ChangeValue("dataSouceUrl",e());DAL_web.TestConnect()};Preferences_TableMode=function(a){P.modeProdView=P.ChangeValue("modeProdView",b())};Preferences_useWebDb=function(a){P.useWebDb=P.ChangeValue("useWebDb",t());window.location.reload()};Preferences_debugMode=function(a){P.debugMode=P.ChangeValue("debugMode",h())};Preferences_userName=function(a){P.UserName=P.ChangeValue("userName",u())};Preferences_userPass=function(a){P.UserPassword=
P.ChangeValue("userPassword",u())};Preferences_userEMail=function(a){P.validateEmail(m())?P.UserEMail=P.ChangeValue("userEMail",m()):BAsket.notify(_Common.EMailNotValid+": "+m())};Preferences_changePlatform=function(a){0<a.element.length&&(P.platformDevice=P.ChangeLookup("#lookupPlatform","Platform"),window.location.reload())};Preferences_changeLayout=function(a){0<a.element.length&&(P.layout=P.ChangeLookup("#lookupLayout","Layout"),window.location.reload())};Preferences_changeMapProvider=function(a){0<
a.element.length&&(P.mapProvider=P.ChangeLookup("#lookupMapProvider","MapProvider"))};Preferences_changeLanguageUI=function(a){0<a.element.length&&(P.languageUI=P.ChangeLookup("#lookupLanguageUI","LanguageUI"),window.location.reload())};Preferences_clickLogin=function(){d()==P.adminPassword?a(!1):BAsket.notify(_.Preferences.IncorrectPassword,"error")};Preferences_clickCancel=function(){a(!1)};Preferences_clickRecreateLocal=function(){DevExpress.ui.dialog.confirm(_.Common.AreYouSure,_.Preferences.RecreateDb).done(function(a){a&&
DAL.RecreateLocalDB()})};return{selectedTab:c,popupVisible:a,adminPassword:d,popupTitle:"Login",dataSouceUrl:e,dsMapProvider:{data:["google","bing"],value:ko.observable(P.mapProvider)},dsLanguage:{data:["English","Русский"],value:ko.observable(P.languageUI)},dsLayout:{data:["slideout","navbar"],value:ko.observable(P.layout)},dsPlatform:{data:"-;generic;ios;ios v6;android;android black;tizen;tizen black".split(";"),value:ko.observable(P.platformDevice)},modeProdView:b,
debugMode:h,useWebDb:t,userName:u,userPass:g,userEMail:m}};
BAsket.Info=function(g){for(var f=ko.observable(""),c=ko.observable(""),a=[],e=0;e<P.navigation.length;e++){var d={},b;for(b in P.navigation[e])d[b]=P.navigation[e][b];a.push(d)}if(g.Id)f(g.Id),c(_.Info[g.Id]);else{a.splice(-1,1);a.push({id:"Products",heightRatio:4,widthRatio:8,icon:"cart",title:_.Info.IProducts,backcolor:"#FF981D"});a.push({id:"Product_Details",heightRatio:4,widthRatio:4,icon:"cart",title:_.Info.IProductDet,backcolor:"#FF981D"});a.push({id:"Client",heightRatio:4,widthRatio:4,icon:"globe",
title:_.Info.IClient,backcolor:"#7200AC"});a.push({id:"RoadMap",heightRatio:4,widthRatio:4,icon:"map",title:_.Info.IMap,backcolor:"#006AC1"});a.push({id:"Contacts",heightRatio:4,widthRatio:8,icon:"home",title:_.Info.IContacts,backcolor:"red"});a.push({id:"SysInfo",heightRatio:4,widthRatio:4,icon:"preferences",title:"SysInfo",backcolor:"black"});for(var h in a)a[h].action="#Info/"+a[h].id}return{dsInfo:a,title:_.Info.Title,subTitle:f,viewShown:function(){$("#textContainer").html(c())}}};
BAsket.ReadNews=function(g){g=[];for(var f in P.arrNMS[0])if(101==P.arrNMS[0][f].Id){g=P.arrNMS[parseInt(f)+1];break}var c=ko.observable(P.getLocalStor("modeSaveOrd",!0)),a=ko.observable(P.getLocalStor("modeLoadOst",!0)),e=ko.observable(P.getLocalStor("modeLoadSpr",!0));f={modeSaveOrd:c,modeLoadOst:a,modeLoadSpr:e,arrayRepo:g,viewShown:function(){$("#consoleOut").html()}};ReadNews_SUA=function(d){"modeSaveOrd"==d?P.ChangeValue(d,c()):"modeLoadOst"==d?P.ChangeValue(d,a()):"modeLoadSpr"==d&&P.ChangeValue(d,
e())};ReadNews_ReadNews=function(){c()&&DAL.SendBils();(a()||e())&&DAL.ReadNews(e())};ReadNews_SendRepo=function(){if(P.UserEMail&&P.validateEmail(P.UserEMail)){var a=$("#lookupRepo").data("dxLookup").option().value;a?DAL_web.SendRepo({id:a,mail:P.UserEMail}):BAsket.notify(_.ReadNews.ChoiceRepo)}else BAsket.notify(_Common.EMailNotValid)};return f};
BAsket.Products=function(g){P.fromProducts=!0;var f=ko.observable("");P.curCategoryId="undefined"==g.Id?P.curCategoryId:g.Id;(!P.curCategoryId||0==P.curCategoryId)&&0<P.arrCategory.length&&(P.curCategoryId=root.arrCategory[0].Id);var c=ko.observable(P.curModeChoice),a=ko.observable(_.Products.Title1),e=ko.observable(_.Products.btnSwText1),d=ko.observable(""),b={searchString:f,dataSourceCat:P.arrCategory,dataSourceBasket:new DevExpress.data.DataSource(new DevExpress.data.ArrayStore(P.arrayBAsket)),
dataSourceProd:DAL.Products({pId:P.curCategoryId,search:f},!P.modeProdView),bChoice:c,lbltitle:a,btnSwText:e,calcSum:d,viewShown:function(){b.dataSourceProd.load()}};ko.computed(function(){return b.searchString()}).extend({throttle:500}).subscribe(function(){b.dataSourceProd.pageIndex(0);b.dataSourceProd.load()});Products_calcSum=function(){var a=0,b;for(b in P.arrayBAsket)a+=P.arrayBAsket[b].Quant*P.arrayBAsket[b].P;return _.Products.SelSum.replace("#",P.arrayBAsket.length)+a.toFixed(2)};Products_swichClicked=
function(){P.curModeChoice=!P.curModeChoice;P.curModeChoice?(c(P.curModeChoice),a(_.Products.Title1),e(_.Products.btnSwText1)):(b.dataSourceBasket.load(),c(P.curModeChoice),a(_.Products.Title2),e(_.Products.btnSwText2),d(Products_calcSum()))};Products_categoryChanged=function(a){0>=a.element.length||(a=$("#CategoryLookup").data("dxLookup"),P.curCategoryId=a.option("value"),P.curCategoryName=$(".dx-state-active").html(),BAsket.app.navigate("Products/"+P.curCategoryId,{direction:"none"}))};Products_clickBack=
function(a){a=0;for(var b=BAsket.app.navigationManager.currentStack.items.length-1;0<b;b--)if(0==BAsket.app.navigationManager.currentStack.items[b-1].uri.indexOf("Order")){a=b;break}else BAsket.app.navigationManager.currentStack.items.splice(b-1,1);BAsket.app.navigationManager.currentStack.currentIndex=a;BAsket.app.back()};return b};
BAsket.Product_Details=function(g){var f={Id:g.Id,Name:ko.observable(""),Price:ko.observable(""),N1:ko.observable(""),N2:ko.observable(""),N3:ko.observable(""),N4:ko.observable(""),N1T:ko.observable(P.arrNMS[10]&&P.arrNMS[10][0]?P.arrNMS[10][0].N:""),N2T:ko.observable(P.arrNMS[10]&&P.arrNMS[10][1]?P.arrNMS[10][1].N:""),N3T:ko.observable(P.arrNMS[10]&&P.arrNMS[10][2]?P.arrNMS[10][2].N:""),N4T:ko.observable(P.arrNMS[10]&&P.arrNMS[10][3]?P.arrNMS[10][3].N:""),Ostat:ko.observable(""),Quant:ko.observable(),
viewShown:function(){$("#idQuant").data("dxNumberBox").focus()}};DAL.ProductDetails({Id:g.Id,model:f});Product_Details_saveClicked=function(c){c=!1;var a=parseInt(this.Quant()),e;for(e in P.arrayBAsket)if(P.arrayBAsket[e].Id==this.Id){a&&0<a?P.arrayBAsket[e].Quant=a:P.arrayBAsket.splice(e,1);c=!0;break}!c&&a&&0<a&&P.arrayBAsket.push({Id:this.Id,N:this.Name(),O:this.Ostat(),Quant:a,P:this.Price(),N1:this.N1(),N2:this.N2()});BAsket.app.back()};return f};
